<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VeriLex – Kanzlei-Demo</title>
    <link rel="stylesheet" href="assets/css/styles.css" />
  </head>
  <body>
    <header class="app-header">
      <h1>VeriLex Demo</h1>
      <p class="app-subtitle">Digitale Workflows für Kanzleien</p>
    </header>

    <main class="app-main" aria-live="polite">
      <section class="app-card welcome-card">
        <h2>Willkommen</h2>
        <p>
          Diese Oberfläche wird Schritt für Schritt gemäß der Aufgabenliste in
          <code>ToDo.md</code> erweitert. Aktuell ist ein globales Fehler-Overlay
          aktiv, das Ausnahmesituationen für Nutzer:innen sichtbar macht.
        </p>
        <div class="welcome-actions">
          <button type="button" id="trigger-demo-error" class="btn btn-secondary">
            Demo-Fehler auslösen
          </button>
          <a class="btn btn-primary" href="mandate-wizard.html">Mandats-Wizard starten</a>
          <a class="btn btn-secondary" href="document-management.html">Dokumentenverwaltung</a>
          <a class="btn btn-secondary" href="template-assistant.html">Vorlagen-Assistent</a>
          <a class="btn btn-secondary" href="time-tracking.html">Zeiterfassung</a>
          <a class="btn btn-secondary" href="performance-overview.html">Leistungsübersicht</a>
          <a class="btn btn-secondary" href="invoice-wizard.html">Rechnungs-Wizard</a>
          <a class="btn btn-secondary" href="open-items.html">Offene Posten</a>
          <a class="btn btn-secondary" href="email-integration.html">E-Mail-Inbox</a>
        </div>
      </section>

      <section class="case-directory" aria-labelledby="case-directory-title">
        <div class="case-directory__header">
          <div>
            <h2 id="case-directory-title">Aktenübersicht</h2>
            <p class="case-directory__description">
              Durchsuchen Sie alle Demo-Akten nach Aktenzeichen oder Titel und behalten Sie Fristen im Blick.
            </p>
          </div>
          <form class="case-directory__search" role="search" aria-label="Akten durchsuchen">
            <label class="visually-hidden" for="case-search-input">Akten durchsuchen</label>
            <input
              id="case-search-input"
              type="search"
              name="query"
              placeholder="Nach Aktenzeichen oder Titel suchen"
              autocomplete="off"
              spellcheck="false"
              aria-describedby="case-result-summary"
              aria-controls="case-grid"
            />
          </form>
        </div>

        <p id="case-result-summary" class="case-directory__summary" role="status" aria-live="polite"></p>

        <div id="case-grid" class="case-grid" role="list"></div>

        <p id="case-empty-state" class="case-empty-state" hidden>
          Keine Akte entspricht der aktuellen Suche. Bitte passen Sie den Suchbegriff an.
        </p>
      </section>
    </main>

    <div
      id="global-error-overlay"
      class="error-overlay"
      role="alertdialog"
      aria-modal="true"
      aria-labelledby="error-overlay-title"
      aria-describedby="error-overlay-message"
      hidden
    >
      <div class="error-overlay__content" role="document">
        <header class="error-overlay__header">
          <h2 id="error-overlay-title">Ein unerwarteter Fehler ist aufgetreten</h2>
          <button
            type="button"
            class="error-overlay__close"
            aria-label="Fehlermeldung schließen"
            data-error-action="dismiss"
          >
            ×
          </button>
        </header>
        <div id="error-overlay-message" class="error-overlay__message"></div>
        <details class="error-overlay__details">
          <summary>Technische Details einblenden</summary>
          <pre id="error-overlay-details"></pre>
        </details>
        <footer class="error-overlay__footer">
          <button type="button" class="btn" data-error-action="reload">
            Seite neu laden
          </button>
          <button type="button" class="btn btn-secondary" data-error-action="dismiss">
            Schließen
          </button>
        </footer>
      </div>
    </div>

    <script type="application/json" id="case-data">
      [
        {
          "caseNumber": "V-2024-001",
          "title": "Vertragsprüfung Müller GmbH",
          "client": "Müller GmbH",
          "deadlineStatus": "Frist läuft in 5 Tagen",
          "deadlineCategory": "warning"
        },
        {
          "caseNumber": "A-2024-017",
          "title": "Arbeitsrechtliche Beratung Schmidt",
          "client": "Eva Schmidt",
          "deadlineStatus": "Keine offenen Fristen",
          "deadlineCategory": "ok"
        },
        {
          "caseNumber": "I-2024-004",
          "title": "Investitionsprüfung GreenTech",
          "client": "GreenTech Holding",
          "deadlineStatus": "Frist heute fällig",
          "deadlineCategory": "critical"
        },
        {
          "caseNumber": "M-2023-089",
          "title": "Mietrechtliche Streitigkeit Weber",
          "client": "Jonas Weber",
          "deadlineStatus": "Frist wurde eingehalten",
          "deadlineCategory": "ok"
        },
        {
          "caseNumber": "S-2024-032",
          "title": "Steuerprüfung Contoso AG",
          "client": "Contoso AG",
          "deadlineStatus": "Frist überfällig",
          "deadlineCategory": "critical"
        },
        {
          "caseNumber": "F-2024-011",
          "title": "Familienrechtliche Mediation Krause",
          "client": "Familie Krause",
          "deadlineStatus": "Frist läuft in 12 Tagen",
          "deadlineCategory": "warning"
        }
      ]
    </script>

    <script src="assets/js/app.js" type="module"></script>
  </body>
</html>
